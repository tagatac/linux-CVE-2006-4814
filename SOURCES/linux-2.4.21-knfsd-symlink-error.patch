--- linux-2.4.21/fs/nfsd/vfs.c.orig	2003-08-05 13:46:26.000000000 -0400
+++ linux-2.4.21/fs/nfsd/vfs.c	2003-08-05 15:12:12.000000000 -0400
@@ -1152,7 +1152,9 @@ nfsd_symlink(struct svc_rqst *rqstp, str
 				iap->ia_mode = (iap->ia_mode&S_IALLUGO)
 					| S_IFLNK;
 				err = notify_change(dnew, iap);
-				if (!err && EX_ISSYNC(fhp->fh_export))
+				if (err)
+					err = nfserrno(err);
+				else if (EX_ISSYNC(fhp->fh_export))
 					write_inode_now(dentry->d_inode, 1);
 		       }
 		}
