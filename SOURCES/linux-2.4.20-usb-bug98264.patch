diff -urN -X dontdiff linux-2.4.20-13.z1/drivers/usb/storage/scsiglue.c linux-2.4.20-13.z2/drivers/usb/storage/scsiglue.c
--- linux-2.4.20-13.z1/drivers/usb/storage/scsiglue.c	2003-05-20 15:06:50.000000000 -0700
+++ linux-2.4.20-13.z2/drivers/usb/storage/scsiglue.c	2003-05-20 16:19:44.000000000 -0700
@@ -213,9 +213,14 @@
 static int device_reset( Scsi_Cmnd *srb )
 {
 	struct us_data *us = (struct us_data *)srb->host->hostdata[0];
+	int rc;
 
 	US_DEBUGP("device_reset() called\n" );
-	return us->transport_reset(us);
+
+	spin_unlock_irq(&io_request_lock);
+	rc = us->transport_reset(us);
+	spin_lock_irq(&io_request_lock);
+	return rc;
 }
 
 /* This resets the device port, and simulates the device

