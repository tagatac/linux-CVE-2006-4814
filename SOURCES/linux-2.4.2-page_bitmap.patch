diff -urNp linux-1020/mm/page_alloc.c linux-1030/mm/page_alloc.c
--- linux-1020/mm/page_alloc.c	
+++ linux-1030/mm/page_alloc.c	
@@ -828,6 +828,7 @@ void __init free_area_init_core(int nid,
 			 */
 			bitmap_size = (size-1) >> (i+4);
 			bitmap_size = LONG_ALIGN(bitmap_size+1);
+			bitmap_size *= 2;
 			zone->free_area[i].map = 
 			  (unsigned long *) alloc_bootmem_node(pgdat, bitmap_size);
 		}
