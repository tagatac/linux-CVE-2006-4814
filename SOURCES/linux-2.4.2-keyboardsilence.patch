diff -urNp linux-5060/drivers/char/pc_keyb.c linux-5070/drivers/char/pc_keyb.c
--- linux-5060/drivers/char/pc_keyb.c
+++ linux-5070/drivers/char/pc_keyb.c
@@ -61,6 +61,14 @@ unsigned char pckbd_sysrq_xlate[128] =
 	"\r\000/";					/* 0x60 - 0x6f */
 #endif
 
+int keyboard_controller_present __initdata = 1;
+static int __init removable_keyb(char *str)
+{
+	keyboard_controller_present = 0;
+	return 0;
+}
+__setup("nokeyb", removable_keyb);
+
 static void kbd_write_command_w(int data);
 static void kbd_write_output_w(int data);
 #ifdef CONFIG_PSMOUSE
@@ -70,8 +78,9 @@ static int aux_reconnect = 0;
 #endif
 
 #ifndef kbd_controller_present
-#define kbd_controller_present()	1
+#define kbd_controller_present()	(keyboard_controller_present)
 #endif
+
 static spinlock_t kbd_controller_lock = SPIN_LOCK_UNLOCKED;
 static unsigned char handle_kbd_event(void);
 
@@ -553,9 +562,6 @@ static int send_data(unsigned char data)
 				break;
 			mdelay(1);
 			if (!--timeout) {
-#ifdef KBD_REPORT_TIMEOUTS
-				printk(KERN_WARNING "keyboard: Timeout - AT keyboard not present?(%02x)\n", data);
-#endif
 				return 0;
 			}
 		}
