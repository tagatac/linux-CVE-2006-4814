diff -urNp linux-6050/fs/nfsd/nfs3xdr.c linux-6060/fs/nfsd/nfs3xdr.c
--- linux-6050/fs/nfsd/nfs3xdr.c
+++ linux-6060/fs/nfsd/nfs3xdr.c
@@ -897,10 +897,10 @@ nfs3svc_encode_getaclres(struct svc_rqst
 	struct svc_buf *buf = &rqstp->rq_resbuf;
 	u32 *end = buf->base + buf->buflen;
 
+	p = encode_post_op_attr(rqstp, p, &resp->fh);
 	if (resp->status == 0 && dentry && dentry->d_inode) {
 		struct inode *inode = dentry->d_inode;
 
-		p = encode_post_op_attr(rqstp, p, &resp->fh);
 		*p++ = htonl(resp->mask);
 		if (!(p = nfs_acl_encode_limit(p, end, inode, resp->acl_access,
 				   resp->mask & NFS3_ACL, 0, nfsd3_acl_max_entries)))
@@ -920,8 +920,7 @@ int
 nfs3svc_encode_setaclres(struct svc_rqst *rqstp, u32 *p,
 					struct nfsd3_attrstat *resp)
 {
-	if (resp->status == 0)
-		p = encode_post_op_attr(rqstp, p, &resp->fh);
+	p = encode_post_op_attr(rqstp, p, &resp->fh);
 
 	return xdr_ressize_check(rqstp, p);
 }
diff -urNp linux-6050/fs/solaris_acl.c linux-6060/fs/solaris_acl.c
--- linux-6050/fs/solaris_acl.c
+++ linux-6060/fs/solaris_acl.c
@@ -54,9 +54,13 @@ nfs_acl_encode(u32 *p, u32 *end, struct 
 					*p++ = htonl(inode->i_gid);
 					group_obj_perm = pa->e_perm;
 					break;
-				default:
+				case ACL_USER:
+				case ACL_GROUP:
 					*p++ = htonl(pa->e_id);
 					break;
+				default:  /* Solaris depends on that! */
+					*p++ = 0;
+					break;
 			}
 			*p++ = htonl(pa->e_perm & S_IRWXO);
 		}
