diff -urNp linux-10000/arch/i386/kernel/sys_i386.c linux-40000/arch/i386/kernel/sys_i386.c
--- linux-10000/arch/i386/kernel/sys_i386.c
+++ linux-40000/arch/i386/kernel/sys_i386.c
@@ -21,6 +21,7 @@
 
 #include <asm/uaccess.h>
 #include <asm/ipc.h>
+#include <asm/delay.h>
 
 /*
  * sys_pipe() is the normal C calling standard for creating
@@ -55,6 +56,7 @@ static inline long do_mmap2(
 			goto out;
 	}
 
+	udelay(10);
 	down_write(&current->mm->mmap_sem);
 	error = do_mmap_pgoff(file, addr, len, prot, flags, pgoff);
 	up_write(&current->mm->mmap_sem);
