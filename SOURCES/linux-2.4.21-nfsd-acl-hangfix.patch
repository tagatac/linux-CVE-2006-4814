--- linux-2.4.21/fs/nfsd/vfs.c.orig	2003-07-09 12:16:09.000000000 -0400
+++ linux-2.4.21/fs/nfsd/vfs.c	2003-07-09 13:42:29.000000000 -0400
@@ -1613,11 +1613,10 @@ nfsd_get_posix_acl(struct svc_fh *fhp, i
 			return ERR_PTR(-EOPNOTSUPP);
 	}
 
-	if (!fhp->fh_locked)
-		fh_lock(fhp);  /* unlocking is done automatically */
 	lock_kernel();  /* goes away in 2.5 */
-
 	size = inode->i_op->getxattr(fhp->fh_dentry, name, NULL, 0);
+	unlock_kernel();  /* goes away in 2.5 */
+
 	if (size < 0) {
 		acl = ERR_PTR(size);
 		goto getout;
@@ -1637,7 +1636,6 @@ nfsd_get_posix_acl(struct svc_fh *fhp, i
 
 getout:
 	kfree(value);
-	unlock_kernel();  /* goes away in 2.5 */
 	return acl;
 }
 
